<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="VoxDoc - AI-Powered Voice Symptom Intake & Documentation Assistant">
    <meta name="theme-color" content="#0f111a">
    <title>VoxDoc | Voice Symptom Intake</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Mobile Overlay -->
        <div id="sidebarOverlay" class="sidebar-overlay"></div>

        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2" />
                        </svg>
                    </div>
                    <span class="logo-text">VoxDoc</span>
                </div>
                <button id="closeSidebar" class="close-sidebar-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>

            <nav class="sidebar-nav">
                <p class="nav-label">Menu</p>
                <button class="nav-item active" data-tab="dashboard">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="9" />
                        <rect x="14" y="3" width="7" height="5" />
                        <rect x="14" y="12" width="7" height="9" />
                        <rect x="3" y="16" width="7" height="5" />
                    </svg>
                    <span>Dashboard</span>
                    <div class="nav-indicator"></div>
                </button>
                <button class="nav-item" data-tab="history">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10" />
                        <polyline points="12 6 12 12 16 14" />
                    </svg>
                    <span>History</span>
                </button>
                <button class="nav-item" data-tab="settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3" />
                        <path
                            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                    </svg>
                    <span>Settings</span>
                </button>

                <p class="nav-label" style="margin-top: 2rem;">Recent Sessions</p>
                <div class="recent-docs">
                    <div class="recent-doc-item">
                        <div class="doc-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                            </svg>
                        </div>
                        <div class="doc-info">
                            <p class="doc-title">Patient Intake #1042</p>
                            <p class="doc-date">Jan 22 • 10:30 AM</p>
                        </div>
                    </div>
                    <div class="recent-doc-item">
                        <div class="doc-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                <polyline points="14 2 14 8 20 8" />
                            </svg>
                        </div>
                        <div class="doc-info">
                            <p class="doc-title">Follow-up Session</p>
                            <p class="doc-date">Jan 21 • 2:15 PM</p>
                        </div>
                    </div>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-card">
                    <div class="user-avatar">AI</div>
                    <div class="user-info">
                        <p class="user-name">AI Assistant</p>
                        <p class="user-plan">Medical Documentation</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <div class="header-left">
                    <button id="openSidebar" class="menu-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12" />
                            <line x1="3" y1="6" x2="21" y2="6" />
                            <line x1="3" y1="18" x2="21" y2="18" />
                        </svg>
                    </button>
                    <div class="header-title">
                        <h1>Intake Session</h1>
                        <p>Voice Symptom Documentation Assistant</p>
                    </div>
                </div>
                <div class="header-right">
                    <!-- Compliance Badge -->
                    <div class="compliance-badge">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
                            <line x1="12" y1="9" x2="12" y2="13" />
                            <line x1="12" y1="17" x2="12.01" y2="17" />
                        </svg>
                        <span>Admin Use Only</span>
                    </div>
                </div>
            </header>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- Left Column: Voice Interaction -->
                <div class="voice-column">
                    <!-- Voice Card -->
                    <div class="voice-card">
                        <div class="voice-card-glow glow-1"></div>
                        <div class="voice-card-glow glow-2"></div>

                        <div class="voice-card-content">
                            <div class="voice-card-header">
                                <h2>Voice Intake</h2>
                                <p id="voiceStatus">Tap microphone to start recording</p>
                            </div>

                            <!-- Waveform Visualizer -->
                            <div id="waveformContainer" class="waveform-container">
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                                <div class="waveform-bar"></div>
                            </div>

                            <!-- Record Button -->
                            <div class="record-btn-wrapper">
                                <div id="recordRipple" class="record-ripple"></div>
                                <button id="recordBtn" class="record-btn">
                                    <svg id="micIcon" class="mic-icon" viewBox="0 0 24 24" fill="none"
                                        stroke="currentColor" stroke-width="2">
                                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" />
                                        <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
                                        <line x1="12" y1="19" x2="12" y2="23" />
                                        <line x1="8" y1="23" x2="16" y2="23" />
                                    </svg>
                                    <svg id="stopIcon" class="stop-icon hidden" viewBox="0 0 24 24" fill="currentColor">
                                        <rect x="6" y="6" width="12" height="12" rx="2" />
                                    </svg>
                                </button>
                            </div>

                            <!-- Duration Display -->
                            <div id="durationDisplay" class="duration-display hidden">
                                <span id="recordingTime">00:00</span>
                            </div>
                        </div>
                    </div>

                    <!-- Text Input Alternative -->
                    <div class="text-input-card">
                        <div class="divider-line">
                            <span>OR TYPE SYMPTOMS</span>
                        </div>
                        <textarea id="textInput" class="text-input"
                            placeholder="Enter patient symptoms here (e.g., 'Sore throat for 48 hours with mild fever')"
                            rows="3"></textarea>
                    </div>

                    <!-- Action Cards -->
                    <div class="action-cards">
                        <div class="action-card">
                            <div class="action-icon violet">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                                    <line x1="16" y1="2" x2="16" y2="6" />
                                    <line x1="8" y1="2" x2="8" y2="6" />
                                    <line x1="3" y1="10" x2="21" y2="10" />
                                </svg>
                            </div>
                            <div class="action-text">
                                <h3>SOAP Note Generation</h3>
                                <p>Auto-generate clinical documentation</p>
                            </div>
                        </div>
                        <div class="action-card">
                            <div class="action-icon cyan">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
                                    <polyline points="22 4 12 14.01 9 11.01" />
                                </svg>
                            </div>
                            <div class="action-text">
                                <h3>Symptom Extraction</h3>
                                <p>AI-powered detail capture</p>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button id="submitBtn" class="submit-btn" disabled>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                        </svg>
                        <span>Generate Documentation</span>
                    </button>
                </div>

                <!-- Settings View (Hidden by default) -->
                <div id="settingsView" class="settings-view hidden">
                    <div class="settings-header">
                        <h2>Neural Config</h2>
                        <div class="neural-badge">
                            <span class="pulse-dot"></span>
                            SYSTEM ACTIVE
                        </div>
                    </div>

                    <div class="settings-grid">
                        <!-- Theme Matrix -->
                        <div class="settings-card full-width">
                            <h3>Holo-Theme Matrix</h3>
                            <div class="theme-options">
                                <div class="theme-card active" data-theme="glass">
                                    <div class="theme-preview glass"></div>
                                    <span>Clinical Glass</span>
                                </div>
                                <div class="theme-card" data-theme="neon">
                                    <div class="theme-preview neon"></div>
                                    <span>Neon Cyber</span>
                                </div>
                                <div class="theme-card" data-theme="midnight">
                                    <div class="theme-preview midnight"></div>
                                    <span>Midnight Void</span>
                                </div>
                            </div>
                        </div>

                        <!-- AI Temperament -->
                        <div class="settings-card">
                            <h3>AI Temperament</h3>
                            <div class="slider-group">
                                <label>
                                    <span>Analysis Depth</span>
                                    <span id="depthValue" class="value-display">85%</span>
                                </label>
                                <input type="range" id="depthSlider" min="1" max="100" value="85" class="neural-slider">
                            </div>
                            <div class="slider-group">
                                <label>
                                    <span>Empathy Level</span>
                                    <span id="empathyValue" class="value-display">High</span>
                                </label>
                                <input type="range" id="empathySlider" min="1" max="3" value="3" class="neural-slider">
                            </div>
                        </div>

                        <!-- Neural Link Status -->
                        <div class="settings-card">
                            <h3>Neural Link Status</h3>
                            <div class="neural-graph-container">
                                <canvas id="neuralGraph"></canvas>
                                <div class="graph-overlay">
                                    <div class="stat-item">
                                        <span class="label">LATENCY</span>
                                        <span class="val">12ms</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="label">GPU</span>
                                        <span class="val">ACTIVE</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Haptics & Feedback -->
                        <div class="settings-card full-width">
                            <h3>Sensory Feedback</h3>
                            <div class="toggles-row">
                                <div class="toggle-item">
                                    <div class="toggle-info">
                                        <span class="toggle-label">Particle Intensity</span>
                                        <span class="toggle-desc">Ambient background activity</span>
                                    </div>
                                    <input type="range" id="particleSlider" min="0" max="100" value="70"
                                        class="neural-slider small">
                                </div>
                                <div class="toggle-item">
                                    <div class="toggle-info">
                                        <span class="toggle-label">Interface Sounds</span>
                                        <span class="toggle-desc">Haptic audio feedback</span>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" id="soundToggle" checked>
                                        <span class="slider round"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Live Transcript / Results -->
                <div class="transcript-column">
                    <div class="transcript-card" id="transcriptCard">
                        <!-- Header -->
                        <div class="transcript-header">
                            <div class="transcript-status">
                                <div id="liveIndicator" class="live-indicator"></div>
                                <h3 id="transcriptTitle">Live Transcript</h3>
                            </div>
                            <div class="transcript-actions">
                                <button id="copyBtn" class="action-btn" title="Copy to clipboard">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
                                    </svg>
                                </button>
                                <button id="exportBtn" class="action-btn" title="Export JSON">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                        <polyline points="7 10 12 15 17 10" />
                                        <line x1="12" y1="15" x2="12" y2="3" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Transcript Content -->
                        <div class="transcript-content" id="transcriptContent">
                            <!-- Empty State -->
                            <div id="emptyState" class="empty-state">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                    <line x1="16" y1="13" x2="8" y2="13" />
                                    <line x1="16" y1="17" x2="8" y2="17" />
                                </svg>
                                <p>Transcript will appear here...</p>
                            </div>

                            <!-- Loading State -->
                            <div id="loadingState" class="loading-state hidden">
                                <div class="spinner"></div>
                                <p>Processing and generating documentation...</p>
                            </div>

                            <!-- Results Container -->
                            <div id="resultsContainer" class="results-container hidden">
                                <!-- Clinician Review Notice -->
                                <div class="review-notice">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10" />
                                        <line x1="12" y1="16" x2="12" y2="12" />
                                        <line x1="12" y1="8" x2="12.01" y2="8" />
                                    </svg>
                                    <div>
                                        <strong>Requires Clinician Review</strong>
                                        <p>This documentation must be reviewed by a qualified healthcare professional.
                                        </p>
                                    </div>
                                </div>

                                <!-- Transcription -->
                                <div class="result-section">
                                    <h4>Transcription</h4>
                                    <p id="transcriptionText" class="transcription-text"></p>

                                    <!-- Audio Playback Section -->
                                    <div id="audioPlaybackSection" class="audio-playback-section hidden">
                                        <div class="audio-playback-header">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                                                <path d="M15.54 8.46a5 5 0 0 1 0 7.07" />
                                            </svg>
                                            <span>Original Recording</span>
                                            <span class="badge success">For Verification</span>
                                        </div>
                                        <audio id="resultAudioPlayer" controls class="audio-player"></audio>
                                    </div>

                                    <!-- Text Input Indicator -->
                                    <div id="textInputIndicator" class="text-input-indicator hidden">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="4 7 4 4 20 4 20 7" />
                                            <line x1="9" y1="20" x2="15" y2="20" />
                                            <line x1="12" y1="4" x2="12" y2="20" />
                                        </svg>
                                        <span>Text Input</span>
                                        <span class="badge info">Manual Entry</span>
                                    </div>
                                </div>

                                <!-- Chief Complaint -->
                                <div class="result-section">
                                    <h4>Chief Complaint</h4>
                                    <p id="chiefComplaint" class="chief-complaint"></p>
                                </div>

                                <!-- Symptom Details -->
                                <div class="result-section">
                                    <h4>Symptom Details</h4>
                                    <div id="symptomDetails" class="symptom-details"></div>
                                </div>

                                <!-- SOAP Note -->
                                <div class="result-section">
                                    <h4>SOAP Note — Subjective</h4>
                                    <div id="soapNote" class="soap-note"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Footer -->
                        <div class="transcript-footer">
                            <p class="disclaimer">Administrative documentation tool. Not for clinical decision-making.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/static/js/app.js"></script>
</body>

</html>